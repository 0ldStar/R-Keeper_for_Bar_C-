# Лабораторная №1

## Исходные данные

СУБД PostgreSQL, psqlodbc, IDE Code::Blocks, MinGW, язык программирования C++

## Задание

1. Разработать структуру БД в соответствии с вариантом задания. Задания составлены так, что после приведения к 3NF база данных должна содержать минимум 3 таблицы, отсутствуют ограничения на создание дополнительных таблиц или представлений.

2. При помощи средств администрирования PostgreSQL создать пользователя, задать ему пароль и создать принадлежащую ему базу данных.

3. Разработать программу на языке С++, использующую СУБД PostgreSQL для хранения данных, которая:

    * При запуске программа подключается при помощи ODBC к базе данных, используя имя пользователя и пароль из п.2;

    * Проверяет существование всех необходимых таблиц, в случае их отсутствия – создает;

    * Для отображения разработанных классов использует один из архитектурных шаблонов: Data Mapper (0), Active Record (1), Table Data Gateway (2). Выбор шаблона выполнить вычислением остатка от деления на 3 числа, полученного взятием последних 3 цифр кода студента;

    * Обслуживает пользовательский интерфейс (gui/cli, на выбор), содержащий набор операций в соответствии с семантикой варианта задания (предметной области), без привязки к реляционной модели. Запрещено использовать суррогатные первичные ключи в интерфейсе для указания записи, следует использовать сквозную логическую нумерацию в постраничном выводе записей или результат поиска;

## Отчет

Сдается в электронном виде, содержит рисунок схемы реляционной модели данных и схему отображения классов в реляционную модель, исходный текст программы из п. 3 (с заголовочными файлами) и дамп базы данных в формате plain.

## Полезная информация

Не забудьте подключить заголовочные файлы windows.h и odbcinst.h, а также указать в опциях линковки заголовочный файл библиотеки libodbc32.a

## Вариант 6. БД «Бар»

База данных должна содержать сведения о следующих объектах:

* Сотрудники - фамилия, имя, отчество, адрес, дата рождения, должность, оклад, сведения о перемещении (должность, причина перевода, номер и дата приказа).

* Напитки - название, крепость, размер порции, емкость для подачи, рецепт
(название ингредиента, количество, единица измерения).

* Закуски - название, размер порции, рецепт (название ингредиента, количество, единица измерения).

* Поставщики - название, почтовый адрес, телефон, факс, E-mail, банковские
реквизиты (наименование банка, город, в котором расположен банк, ИНН, расчетный счет), ассортимент товаров (наименование, оптовая цена, условия поставки, условия оплаты).

## Набор операций

* Меню бара

  * Получить меню
  
  * Получить алгольное меню

  * Получить меню еды

  * Добавить продукт в меню

  * Убрать продукт из меню

  * Изменить продукт (изменить рецепт)

* Сотрудники

  * Получить список сотрудников

  * Добавить нового сотрудника

  * Уволить сотрудника

  * Переместить сотрудника

  * Получить перемещения по сотруднику

* Поставщики

  * Получить список поставщиков

  * Добавить поставщика

  * Удалить поставщика

  * Изменить данные о поставщике

  * Получить ассортимент поставщика

  * Изменить ассортимент поставщика
